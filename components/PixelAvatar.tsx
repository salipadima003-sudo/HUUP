interface PixelAvatarProps {
  variant: 'student' | 'teacher' | 'user1' | 'user2' | 'user3' | 'robot';
  size?: number;
}

export function PixelAvatar({ variant, size = 48 }: PixelAvatarProps) {
  const pixelSize = size / 24;

  const patterns: Record<string, number[][]> = {
    student: [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0],
      [0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0],
      [0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,0,0,0,0],
      [0,0,0,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0],
      [0,0,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0],
      [0,0,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,2,2,4,2,2,1,2,2,4,2,2,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,2,2,4,2,2,1,2,2,4,2,2,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,1,1,1,5,5,5,5,5,1,1,1,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,1,1,1,1,5,5,5,1,1,1,1,1,1,1,1,3,0,0,0],
      [0,0,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,0,0,0],
      [0,0,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0],
      [0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,0,0,0,0],
      [0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0],
      [0,0,0,0,0,3,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0],
      [0,0,0,0,0,3,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0],
      [0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    ],
    teacher: [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0],
      [0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0],
      [0,0,0,7,7,1,1,1,1,1,1,1,1,1,1,1,1,7,7,7,0,0,0,0],
      [0,0,0,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,0,0,0,0],
      [0,0,7,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,0,0,0],
      [0,0,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,8,8,8,8,1,1,1,8,8,8,8,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,8,4,4,8,1,1,1,8,4,4,8,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,8,8,8,8,1,1,1,8,8,8,8,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,1,1,5,5,5,5,5,5,5,1,1,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,1,1,1,1,5,5,5,1,1,1,1,1,1,1,1,7,0,0,0],
      [0,0,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,0,0,0],
      [0,0,7,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,0,0,0],
      [0,0,0,7,7,1,1,1,1,1,1,1,1,1,1,1,1,7,7,7,0,0,0,0],
      [0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0],
      [0,0,0,0,0,7,9,9,9,9,9,9,9,9,9,9,9,7,0,0,0,0,0,0],
      [0,0,0,0,0,7,9,9,9,9,9,9,9,9,9,9,9,7,0,0,0,0,0,0],
      [0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    ],
    robot: [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,10,10,10,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0],
      [0,0,0,10,10,11,11,11,11,11,11,11,11,11,11,11,11,10,10,0,0,0,0,0],
      [0,0,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,10,0,0,0,0],
      [0,0,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,11,12,12,12,11,11,11,12,12,12,11,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,12,12,13,12,12,11,12,12,13,12,12,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,12,12,13,12,12,11,12,12,13,12,12,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,11,12,12,12,11,11,11,12,12,12,11,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,11,11,12,12,12,12,12,12,12,11,11,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,11,11,11,12,12,12,12,12,11,11,11,11,11,11,10,0,0,0,0],
      [0,0,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,0,0,0,0],
      [0,0,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,10,0,0,0,0],
      [0,0,0,10,10,11,11,11,11,11,11,11,11,11,11,11,11,10,10,0,0,0,0,0],
      [0,0,0,0,10,10,10,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0],
      [0,0,0,0,0,0,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    ],
    user1: [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,14,14,14,14,14,14,14,14,14,14,14,14,0,0,0,0,0,0],
      [0,0,0,0,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,0,0,0,0],
      [0,0,0,14,14,1,1,1,1,1,1,1,1,1,1,1,1,14,14,14,0,0,0,0],
      [0,0,0,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,14,0,0,0,0],
      [0,0,14,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,14,0,0,0],
      [0,0,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,2,2,15,2,2,1,2,2,15,2,2,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,2,2,15,2,2,1,2,2,15,2,2,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,1,1,1,5,5,5,5,5,1,1,1,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,1,1,1,1,5,5,5,1,1,1,1,1,1,1,1,14,0,0,0],
      [0,0,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,0,0,0],
      [0,0,14,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,14,0,0,0],
      [0,0,0,14,14,1,1,1,1,1,1,1,1,1,1,1,1,14,14,14,0,0,0,0],
      [0,0,0,0,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,0,0,0,0,0],
      [0,0,0,0,0,14,16,16,16,16,16,16,16,16,16,16,16,14,0,0,0,0,0,0],
      [0,0,0,0,0,14,16,16,16,16,16,16,16,16,16,16,16,14,0,0,0,0,0,0],
      [0,0,0,0,0,0,14,14,14,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    ],
    user2: [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0],
      [0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0],
      [0,0,0,17,17,1,1,1,1,1,1,1,1,1,1,1,1,17,17,17,0,0,0,0],
      [0,0,0,17,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,17,0,0,0,0],
      [0,0,17,17,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,17,0,0,0],
      [0,0,17,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,2,2,18,2,2,1,2,2,18,2,2,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,2,2,18,2,2,1,2,2,18,2,2,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,1,1,1,5,5,5,5,5,1,1,1,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,1,1,1,1,5,5,5,1,1,1,1,1,1,1,1,17,0,0,0],
      [0,0,17,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,0,0,0],
      [0,0,17,17,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,17,0,0,0],
      [0,0,0,17,17,1,1,1,1,1,1,1,1,1,1,1,1,17,17,17,0,0,0,0],
      [0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0],
      [0,0,0,0,0,17,19,19,19,19,19,19,19,19,19,19,19,17,0,0,0,0,0,0],
      [0,0,0,0,0,17,19,19,19,19,19,19,19,19,19,19,19,17,0,0,0,0,0,0],
      [0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    ],
    user3: [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,20,20,20,20,20,20,20,20,20,20,20,20,0,0,0,0,0,0],
      [0,0,0,0,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,0,0,0,0],
      [0,0,0,20,20,1,1,1,1,1,1,1,1,1,1,1,1,20,20,20,0,0,0,0],
      [0,0,0,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,20,0,0,0,0],
      [0,0,20,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,20,0,0,0],
      [0,0,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,2,2,21,2,2,1,2,2,21,2,2,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,2,2,21,2,2,1,2,2,21,2,2,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,1,2,2,2,1,1,1,2,2,2,1,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,1,1,1,5,5,5,5,5,1,1,1,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,1,1,1,1,5,5,5,1,1,1,1,1,1,1,1,20,0,0,0],
      [0,0,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,0,0,0],
      [0,0,20,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,20,0,0,0],
      [0,0,0,20,20,1,1,1,1,1,1,1,1,1,1,1,1,20,20,20,0,0,0,0],
      [0,0,0,0,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,0,0,0,0,0],
      [0,0,0,0,0,20,22,22,22,22,22,22,22,22,22,22,22,20,0,0,0,0,0,0],
      [0,0,0,0,0,20,22,22,22,22,22,22,22,22,22,22,22,20,0,0,0,0,0,0],
      [0,0,0,0,0,0,20,20,20,20,20,20,20,20,20,20,20,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    ],
  };

  const colorMap: Record<number, string> = {
    0: 'transparent',
    1: '#fef3c7', // skin light
    2: '#92400e', // eyes/eyebrows dark
    3: '#78350f', // hair brown
    4: '#1e3a8a', // eyes blue
    5: '#f472b6', // mouth pink
    6: '#6366f1', // shirt indigo
    7: '#854d0e', // teacher hair
    8: '#422006', // teacher glasses
    9: '#1e40af', // teacher shirt
    10: '#6366f1', // robot border
    11: '#e0e7ff', // robot body
    12: '#4f46e5', // robot details
    13: '#60a5fa', // robot eyes
    14: '#f59e0b', // user1 orange hair
    15: '#10b981', // user1 green eyes
    16: '#ef4444', // user1 red shirt
    17: '#ec4899', // user2 pink hair
    18: '#8b5cf6', // user2 purple eyes
    19: '#14b8a6', // user2 teal shirt
    20: '#06b6d4', // user3 cyan hair
    21: '#f97316', // user3 orange eyes
    22: '#10b981', // user3 green shirt
  };

  const pattern = patterns[variant] || patterns.student;

  return (
    <div
      style={{
        width: size,
        height: size,
        display: 'grid',
        gridTemplateColumns: `repeat(24, ${pixelSize}px)`,
        gridTemplateRows: `repeat(24, ${pixelSize}px)`,
        imageRendering: 'pixelated',
      }}
    >
      {pattern.flat().map((pixel, index) => (
        <div
          key={index}
          style={{
            backgroundColor: colorMap[pixel],
            width: pixelSize,
            height: pixelSize,
          }}
        />
      ))}
    </div>
  );
}
